<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
  <title>可信CA证书库</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" type="text/css" href="templates/assets/ios6-settings.css">
</head>
<body>
  <div class="page-wrap">
    <div class="ios-nav-bar">
      <div class="ios-nav-title">可信CA证书库</div>
    </div>

    <div class="page-content">
      <div class="hero-panel rounded">
        <div class="hero-left">
          <img src="templates/assets/certificate.png" alt="证书" class="hero-icon" width="64" height="64">
        </div>
        <div class="hero-right">
          <h1>证书管理</h1>
          <p>此处收集来自 Debian Repo 和 Windows Update 的根证书颁发机构证书，可用于旧式浏览器和系统证书库更新。</p>
          <p>证书库每年从多个上游刷新，请在 <a href="https://github.com/stevezmtstudios/CACert-Sync" target="_blank">GitHub 仓库</a> 上给我们星标。</p>
        </div>
      </div>

      <div class="ios-group rounded">
        <div class="ios-group-header">状态</div>
        <div class="ios-cell info-cell">
          <span class="ios-cell-icon"><img src="templates/assets/timedate@32x32.png" alt="更新信息" width="22" height="22"></span>
          <span class="ios-cell-main">最后更新日期：{{LAST_UPDATED}}</span><br />
          <span class="ios-cell-main">当前包含 {{CERTIFICATE_COUNT}} 个证书</span>
        </div>
      </div>

      <noscript>
        <div class="ios-group rounded">
          <div class="ios-group-header">提示</div>
          <div class="ios-cell warning-cell">该页面的搜索和证书链检测功能需要启用 JavaScript。若浏览器过旧或禁用了 JavaScript，建议使用桌面环境的 openssl 进行证书链检查。</div>
        </div>
      </noscript>

      <div class="ios-group rounded">
        <div class="ios-group-header">证书聚合下载</div>
        <div class="ios-cell">
          <span class="ios-cell-main">聚合证书包：</span>
          <a href="certs/all/cacerts.pem" class="download-link"><button type="button" class="ios-btn">下载 PEM</button></a>
          <a href="certs/all/cacerts.crt" class="download-link"><button type="button" class="ios-btn">下载 CRT</button></a>
          <a href="certs/all/cacerts.p12" class="download-link"><button type="button" class="ios-btn">下载 P12</button></a>
          <a href="certs/all/cacert.der" class="download-link"><button type="button" class="ios-btn">下载 DER</button></a>
        </div>
        <div class="ios-cell">
          <span class="ios-cell-main">Windows 受信任根列表：</span>
          <a href="https://ctldl.windowsupdate.com/msdownload/update/v3/static/trustedr/en/authrootstl.cab" class="download-link"><button type="button" class="ios-btn">下载 authrootstl.cab</button></a>
        </div>
        <div class="ios-cell">
          <span class="ios-cell-main">Mozilla 受信任根列表：</span>
          <a href="https://curl.se/ca/cacert.pem" class="download-link"><button type="button" class="ios-btn">下载 Mozilla CA 证书（PEM）</button></a>
        </div>
      </div>

      <div class="ios-group rounded">
        <div class="ios-group-header">证书链检测</div>
        <div class="ios-cell control-cell">
          <input type="text" id="urlInput" class="ios-input" placeholder="例如: https://example.com">
          <button type="button" class="ios-icon-btn" onclick="checkCertChain()"><img src="templates/assets/search@32x32.png" alt="检测" width="20" height="20"></button>
          <button type="button" class="ios-btn" onclick="resetTable()">重置</button>
        </div>
        <div class="ios-cell" id="chainResults" style="display:none;"></div>
      </div>

      <div class="ios-group rounded">
        <div class="ios-group-header">搜索证书</div>
        <div class="ios-cell control-cell">
          <input type="text" id="searchInput" class="ios-input" placeholder="搜索证书名称、颁发者、有效期..." onkeyup="searchTable()">
          <button type="button" class="ios-icon-btn" onclick="searchTable()"><img src="templates/assets/search@32x32.png" alt="搜索" width="20" height="20"></button>
        </div>
      </div>

      <div class="ios-group rounded">
        <div class="ios-group-header">可下载证书列表</div>
        <div class="table-wrap">
          <table id="certTable" class="cert-table">
            <tr>
              <th>证书名称</th>
              <th>颁发者</th>
              <th>有效期至</th>
              <th>下载</th>
            </tr>
            {{CERTIFICATE_LIST_REPLACED}}
          </table>
        </div>
      </div>

      <div class="ios-footer rounded">
        该项目仅收集和存储来自网络上公开的CA证书，不对其即时性和真实性做出保证。<br>
        导入未知来源的CA证书可能会使您的设备陷入风险，包括但不限于网络流量被监视等。<br>
        页面设计版权所有 &copy; <span id="copyright-year">2026</span> SteveZMT
      </div>
    </div>
  </div>

  <script type="text/javascript" src="templates/assets/ios6-legacy-polyfills.js"></script>
  <script type="text/javascript" src="templates/assets/ios6-settings.js"></script>
</body>
</html>
